/* Import Google Font */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,600;1,400&display=swap');

/* 
  ==============================================
    CSS VARIABLES (CUSTOM PROPERTIES)
    - Default theme is "Catppuccin Dark" inspired.
    - Each .theme-* class just overrides these variables.
  ==============================================
*/
:root {
  --bg-body: #1e1e2e;
  --bg-terminal: rgba(30, 30, 46, 0.9);
  --bg-header: linear-gradient(to bottom, #45475a 0%, #313244 100%);
  --border-terminal: rgba(205, 214, 244, 0.1);

  --text-primary: #cdd6f4;
  --text-secondary: #bac2de;
  --text-title: #cdd6f4;
  --text-header: #f9e2af; /* Yellow */
  --text-prompt: #a6e3a1; /* Green */
  --text-command: #fab387; /* Orange */
  --text-error: #f38ba8; /* Red */
  --text-link: #cba6f7; /* Mauve */
  --text-link-hover: #f5c2e7; /* Pink */
  --text-suggestion: #f9e2af; /* Yellow */

  --accent-border: #fab387; /* Orange */
  --library-bg: rgba(205, 214, 244, 0.05);
  --library-border: #89b4fa; /* Blue */
  --library-key: #f9e2af; /* Yellow */

  --scrollbar-track: rgba(255, 255, 255, 0.05);
  --scrollbar-thumb: rgba(255, 255, 255, 0.2);
  --caret-color: var(--text-prompt);
}

/* 
  ==============================================
    BASE & LAYOUT STYLES
  ==============================================
*/
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 1rem;
  font-family: 'JetBrains Mono', monospace;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
  position: relative;
  background-color: var(--bg-body);
  transition: background-color 0.3s ease;
}

/* CORRECTED ID SELECTOR */
#particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.terminal-wrapper {
  width: 90%;
  max-width: 1000px;
  height: 85vh;
  background-color: var(--bg-terminal);
  backdrop-filter: blur(10px);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--border-terminal);
  display: flex;
  flex-direction: column;
  z-index: 1;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* 
  ==============================================
    TERMINAL HEADER
  ==============================================
*/
.terminal-header {
  height: 32px;
  background: var(--bg-header);
  display: flex;
  align-items: center;
  padding: 0 12px;
  user-select: none;
  flex-shrink: 0;
  transition: background 0.3s ease;
}

.circle {
  height: 12px;
  width: 12px;
  border-radius: 50%;
  margin-right: 8px;
  border: 1px solid rgba(0, 0, 0, 0.2);
}

.red { background-color: #ff5f57; }
.yellow { background-color: #ffbd2e; }
.green { background-color: #28c940; }

.terminal-title {
  color: var(--text-title);
  font-size: 14px;
  font-weight: 600;
  margin: 0 auto;
  transition: color 0.3s ease;
}

/* 
  ==============================================
    TERMINAL CONTENT & TYPOGRAPHY
  ==============================================
*/
#main {
  flex: 1;
  color: var(--text-primary);
  font-family: 'JetBrains Mono', monospace;
  font-size: clamp(12px, 1.8vw, 14px);
  line-height: 1.6;
  padding: 1rem;
  overflow-y: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
  outline: none;
  transition: color 0.3s ease;
}

.prompt-line {
  display: flex;
  align-items: flex-start;
}

#main .prompt {
  color: var(--text-prompt);
  margin-right: 0.5rem;
}

#main .input {
  flex-grow: 1;
  background: transparent;
  border: none;
  color: inherit;
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  outline: none;
  caret-color: var(--caret-color);
}

#main .input:empty:before {
  content: "\200b";
}

#main .output {
  margin-bottom: 0.5rem;
}

#main .header { color: var(--text-header); }
#main .command { color: var(--text-command); }
#main .error { color: var(--text-error); }
#main .message { color: var(--text-primary); }
#main .suggest { color: var(--text-suggestion); }
#main .note { color: var(--text-secondary); font-style: italic; }

#main .link {
  color: var(--text-link);
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s;
}
#main .link:hover {
  text-decoration: underline;
  color: var(--text-link-hover);
}

/* 
  ==============================================
    COMPONENT STYLES (Projects, Library, etc.)
  ==============================================
*/
.project-container {
  margin: 1rem 0;
  padding-left: 1rem;
  border-left: 3px solid var(--accent-border);
}
.project-name { font-weight: bold; font-size: 1.1em; color: var(--text-header); }
.project-description { margin: 0.25rem 0; color: var(--text-secondary); }
.project-tech { font-style: italic; color: var(--text-link); }
.project-links { margin-top: 0.5rem; }
.project-links .link { margin-right: 1rem; }

.library-container {
  margin: 1rem 0;
  padding: 0.75rem;
  background: var(--library-bg);
  border-left: 4px solid var(--library-border);
  border-radius: 4px;
}
.library-title {
  color: var(--text-header);
  font-weight: bold;
  font-size: 1.1em;
  text-transform: uppercase;
  display: block;
  margin-bottom: 0.5rem;
}
.library-item {
  display: flex;
  flex-wrap: wrap;
  margin: 0.25rem 0;
}
.library-key {
  color: var(--library-key);
  font-weight: bold;
  margin-right: 1rem;
  min-width: 150px;
}
.library-value { flex: 1; color: var(--text-primary); }
.library-link { color: var(--text-link); }
.library-link:hover { color: var(--text-link-hover); }

/* 
  ==============================================
    SCROLLBAR
  ==============================================
*/
#main::-webkit-scrollbar { width: 8px; }
#main::-webkit-scrollbar-track { background: var(--scrollbar-track); }
#main::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 4px; }


/* 
  ==============================================
    THEME DEFINITIONS
  ==============================================
*/

/* --- Light Theme (Solarized Inspired) --- */
.theme-light {
  --bg-body: #fdf6e3;
  --bg-terminal: rgba(253, 246, 227, 0.9);
  --bg-header: linear-gradient(to bottom, #eee8d5, #fdf6e3);
  --border-terminal: rgba(0, 0, 0, 0.1);
  --text-primary: #586e75;
  --text-secondary: #839496;
  --text-title: #073642;
  --text-header: #b58900;
  --text-prompt: #2aa198;
  --text-command: #cb4b16;
  --text-error: #dc322f;
  --text-link: #6c71c4;
  --text-link-hover: #d33682;
  --text-suggestion: #b58900;
  --accent-border: #cb4b16;
  --library-bg: rgba(7, 54, 66, 0.05);
  --library-border: #268bd2;
  --library-key: #b58900;
  --scrollbar-track: rgba(0, 0, 0, 0.05);
  --scrollbar-thumb: rgba(0, 0, 0, 0.2);
  --caret-color: var(--text-prompt);
}

/* --- Matrix Theme --- */
.theme-matrix {
  --bg-body: #000;
  --bg-terminal: rgba(10, 10, 10, 0.9);
  --bg-header: linear-gradient(to bottom, #1a1a1a, #0a0a0a);
  --border-terminal: rgba(0, 255, 0, 0.2);
  --text-primary: #00ff41;
  --text-secondary: #00c732;
  --text-title: #00ff41;
  --text-header: #afff00;
  --text-prompt: #00ff41;
  --text-command: #50fa7b;
  --text-error: #ff5555;
  --text-link: #00f0a0;
  --text-link-hover: #00ffff;
  --text-suggestion: #afff00;
  --accent-border: #50fa7b;
  --library-bg: rgba(0, 255, 0, 0.05);
  --library-border: #00ff41;
  --library-key: #afff00;
  --scrollbar-track: rgba(0, 255, 0, 0.05);
  --scrollbar-thumb: rgba(0, 255, 0, 0.2);
  --caret-color: var(--text-prompt);
}

/* --- Hello Kitty Theme (Softer) --- */
.theme-hello_kitty {
  --bg-body: #fff0f5;
  --bg-terminal: rgba(255, 240, 245, 0.9);
  --bg-header: linear-gradient(to bottom, #ffe4e1, #ffc1cc);
  --border-terminal: rgba(255, 182, 193, 0.4);
  --text-primary: #db7093;
  --text-secondary: #ff85a1;
  --text-title: #c71585;
  --text-header: #c71585;
  --text-prompt: #ff69b4;
  --text-command: #ff4500;
  --text-error: #dc143c;
  --text-link: #9370db;
  --text-link-hover: #c71585;
  --text-suggestion: #ff69b4;
  --accent-border: #ff69b4;
  --library-bg: rgba(219, 112, 147, 0.1);
  --library-border: #ffb6c1;
  --library-key: #ff4500;
  --scrollbar-track: rgba(219, 112, 147, 0.1);
  --scrollbar-thumb: rgba(219, 112, 147, 0.4);
  --caret-color: var(--text-prompt);
}

/* 
  ==============================================
    RESPONSIVE MEDIA QUERIES
  ==============================================
*/
@media (max-width: 768px) {
  .terminal-wrapper {
    width: 95%;
    height: 90vh;
  }
  .library-item {
    flex-direction: column;
    align-items: flex-start;
  }
  .library-key {
    min-width: 0;
    margin-bottom: 0.25rem;
  }
}

@media (max-width: 480px) {
  body {
    padding: 0.5rem;
  }
  .terminal-wrapper {
    width: 100%;
    height: 95vh;
    border-radius: 0;
  }
}